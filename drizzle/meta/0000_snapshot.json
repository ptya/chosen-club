{
  "id": "4a89695a-8720-4579-bdfc-424c211a6ef5",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.chosen_ones": {
      "name": "chosen_ones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pair_id": {
          "name": "pair_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name_id": {
          "name": "name_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "marked_at": {
          "name": "marked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chosen_pair": {
          "name": "idx_chosen_pair",
          "columns": [
            {
              "expression": "pair_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chosen_name": {
          "name": "idx_chosen_name",
          "columns": [
            {
              "expression": "name_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chosen_ones_pair_id_pairs_id_fk": {
          "name": "chosen_ones_pair_id_pairs_id_fk",
          "tableFrom": "chosen_ones",
          "tableTo": "pairs",
          "columnsFrom": [
            "pair_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chosen_ones_name_id_names_id_fk": {
          "name": "chosen_ones_name_id_names_id_fk",
          "tableFrom": "chosen_ones",
          "tableTo": "names",
          "columnsFrom": [
            "name_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_pair_chosen_name": {
          "name": "unique_pair_chosen_name",
          "nullsNotDistinct": false,
          "columns": [
            "pair_id",
            "name_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.excluded_names": {
      "name": "excluded_names",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "player_game_id": {
          "name": "player_game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name_id": {
          "name": "name_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "excluded_at": {
          "name": "excluded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "battle_id": {
          "name": "battle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_excluded_player_game": {
          "name": "idx_excluded_player_game",
          "columns": [
            {
              "expression": "player_game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_excluded_name": {
          "name": "idx_excluded_name",
          "columns": [
            {
              "expression": "name_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "excluded_names_player_game_id_player_games_id_fk": {
          "name": "excluded_names_player_game_id_player_games_id_fk",
          "tableFrom": "excluded_names",
          "tableTo": "player_games",
          "columnsFrom": [
            "player_game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "excluded_names_name_id_names_id_fk": {
          "name": "excluded_names_name_id_names_id_fk",
          "tableFrom": "excluded_names",
          "tableTo": "names",
          "columnsFrom": [
            "name_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "excluded_names_battle_id_name_battles_id_fk": {
          "name": "excluded_names_battle_id_name_battles_id_fk",
          "tableFrom": "excluded_names",
          "tableTo": "name_battles",
          "columnsFrom": [
            "battle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_player_game_excluded_name": {
          "name": "unique_player_game_excluded_name",
          "nullsNotDistinct": false,
          "columns": [
            "player_game_id",
            "name_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.game_config": {
      "name": "game_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_phase1_appearances": {
          "name": "max_phase1_appearances",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "chosen_one_threshold": {
          "name": "chosen_one_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_config_game": {
          "name": "idx_config_game",
          "columns": [
            {
              "expression": "game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "game_config_game_id_games_id_fk": {
          "name": "game_config_game_id_games_id_fk",
          "tableFrom": "game_config",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "game_config_game_id_unique": {
          "name": "game_config_game_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "game_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.games": {
      "name": "games",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name_type": {
          "name": "name_type",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {
        "idx_games_created_by": {
          "name": "idx_games_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_games_status": {
          "name": "idx_games_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "games_created_by_users_email_fk": {
          "name": "games_created_by_users_email_fk",
          "tableFrom": "games",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "name_type_check": {
          "name": "name_type_check",
          "value": "\"games\".\"name_type\" IN ('boy', 'girl')"
        },
        "status_check": {
          "name": "status_check",
          "value": "\"games\".\"status\" IN ('active', 'completed', 'abandoned')"
        }
      },
      "isRLSEnabled": false
    },
    "public.league_stats": {
      "name": "league_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_battles": {
          "name": "total_battles",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "names_eliminated": {
          "name": "names_eliminated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "chosen_ones_count": {
          "name": "chosen_ones_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_rank": {
          "name": "current_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_league_user_game": {
          "name": "idx_league_user_game",
          "columns": [
            {
              "expression": "user_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_league_rank": {
          "name": "idx_league_rank",
          "columns": [
            {
              "expression": "current_rank",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "league_stats_user_email_users_email_fk": {
          "name": "league_stats_user_email_users_email_fk",
          "tableFrom": "league_stats",
          "tableTo": "users",
          "columnsFrom": [
            "user_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "league_stats_game_id_games_id_fk": {
          "name": "league_stats_game_id_games_id_fk",
          "tableFrom": "league_stats",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.name_appearances": {
      "name": "name_appearances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "player_game_id": {
          "name": "player_game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name_id": {
          "name": "name_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "appearance_count": {
          "name": "appearance_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "has_won": {
          "name": "has_won",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_appearances_player_game": {
          "name": "idx_appearances_player_game",
          "columns": [
            {
              "expression": "player_game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_appearances_name": {
          "name": "idx_appearances_name",
          "columns": [
            {
              "expression": "name_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "name_appearances_player_game_id_player_games_id_fk": {
          "name": "name_appearances_player_game_id_player_games_id_fk",
          "tableFrom": "name_appearances",
          "tableTo": "player_games",
          "columnsFrom": [
            "player_game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "name_appearances_name_id_names_id_fk": {
          "name": "name_appearances_name_id_names_id_fk",
          "tableFrom": "name_appearances",
          "tableTo": "names",
          "columnsFrom": [
            "name_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_player_game_name": {
          "name": "unique_player_game_name",
          "nullsNotDistinct": false,
          "columns": [
            "player_game_id",
            "name_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.name_battles": {
      "name": "name_battles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "player_game_id": {
          "name": "player_game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name1_id": {
          "name": "name1_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name2_id": {
          "name": "name2_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "winner_id": {
          "name": "winner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "doom_selected": {
          "name": "doom_selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "battle_round": {
          "name": "battle_round",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_battles_player_game": {
          "name": "idx_battles_player_game",
          "columns": [
            {
              "expression": "player_game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_battles_phase": {
          "name": "idx_battles_phase",
          "columns": [
            {
              "expression": "phase",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_battles_winner": {
          "name": "idx_battles_winner",
          "columns": [
            {
              "expression": "winner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "name_battles_player_game_id_player_games_id_fk": {
          "name": "name_battles_player_game_id_player_games_id_fk",
          "tableFrom": "name_battles",
          "tableTo": "player_games",
          "columnsFrom": [
            "player_game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "name_battles_name1_id_names_id_fk": {
          "name": "name_battles_name1_id_names_id_fk",
          "tableFrom": "name_battles",
          "tableTo": "names",
          "columnsFrom": [
            "name1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "name_battles_name2_id_names_id_fk": {
          "name": "name_battles_name2_id_names_id_fk",
          "tableFrom": "name_battles",
          "tableTo": "names",
          "columnsFrom": [
            "name2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "name_battles_winner_id_names_id_fk": {
          "name": "name_battles_winner_id_names_id_fk",
          "tableFrom": "name_battles",
          "tableTo": "names",
          "columnsFrom": [
            "winner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "different_names": {
          "name": "different_names",
          "value": "\"name_battles\".\"name1_id\" != \"name_battles\".\"name2_id\""
        },
        "winner_or_doom": {
          "name": "winner_or_doom",
          "value": "(\"name_battles\".\"winner_id\" IS NOT NULL AND \"name_battles\".\"doom_selected\" = false) OR (\"name_battles\".\"winner_id\" IS NULL AND \"name_battles\".\"doom_selected\" = true)"
        }
      },
      "isRLSEnabled": false
    },
    "public.names": {
      "name": "names",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name_type": {
          "name": "name_type",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "nationality": {
          "name": "nationality",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_names_type": {
          "name": "idx_names_type",
          "columns": [
            {
              "expression": "name_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_names_nationality": {
          "name": "idx_names_nationality",
          "columns": [
            {
              "expression": "nationality",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "idx_names_name_type": {
          "name": "idx_names_name_type",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "name_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "name_type_check": {
          "name": "name_type_check",
          "value": "\"names\".\"name_type\" IN ('boy', 'girl')"
        }
      },
      "isRLSEnabled": false
    },
    "public.pair_invitations": {
      "name": "pair_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "inviter_email": {
          "name": "inviter_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "invitee_email": {
          "name": "invitee_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_invitations_token": {
          "name": "idx_invitations_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invitations_inviter": {
          "name": "idx_invitations_inviter",
          "columns": [
            {
              "expression": "inviter_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invitations_email": {
          "name": "idx_invitations_email",
          "columns": [
            {
              "expression": "invitee_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pair_invitations_inviter_email_users_email_fk": {
          "name": "pair_invitations_inviter_email_users_email_fk",
          "tableFrom": "pair_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "inviter_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pair_invitations_game_id_games_id_fk": {
          "name": "pair_invitations_game_id_games_id_fk",
          "tableFrom": "pair_invitations",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pair_invitations_token_unique": {
          "name": "pair_invitations_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "status_check": {
          "name": "status_check",
          "value": "\"pair_invitations\".\"status\" IN ('pending', 'accepted', 'rejected', 'expired')"
        }
      },
      "isRLSEnabled": false
    },
    "public.pairs": {
      "name": "pairs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user1_email": {
          "name": "user1_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user2_email": {
          "name": "user2_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pairs_user1": {
          "name": "idx_pairs_user1",
          "columns": [
            {
              "expression": "user1_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pairs_user2": {
          "name": "idx_pairs_user2",
          "columns": [
            {
              "expression": "user2_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pairs_game": {
          "name": "idx_pairs_game",
          "columns": [
            {
              "expression": "game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pairs_user1_email_users_email_fk": {
          "name": "pairs_user1_email_users_email_fk",
          "tableFrom": "pairs",
          "tableTo": "users",
          "columnsFrom": [
            "user1_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pairs_user2_email_users_email_fk": {
          "name": "pairs_user2_email_users_email_fk",
          "tableFrom": "pairs",
          "tableTo": "users",
          "columnsFrom": [
            "user2_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pairs_game_id_games_id_fk": {
          "name": "pairs_game_id_games_id_fk",
          "tableFrom": "pairs",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_pair_game": {
          "name": "unique_pair_game",
          "nullsNotDistinct": false,
          "columns": [
            "user1_email",
            "user2_email",
            "game_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "status_check": {
          "name": "status_check",
          "value": "\"pairs\".\"status\" IN ('pending', 'active', 'dissolved')"
        },
        "different_users": {
          "name": "different_users",
          "value": "\"pairs\".\"user1_email\" != \"pairs\".\"user2_email\""
        }
      },
      "isRLSEnabled": false
    },
    "public.player_games": {
      "name": "player_games",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pair_id": {
          "name": "pair_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "phase2_approval_status": {
          "name": "phase2_approval_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "phase2_approval_requested_by_email": {
          "name": "phase2_approval_requested_by_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "battle_of_chosen_activated": {
          "name": "battle_of_chosen_activated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_player_games_user": {
          "name": "idx_player_games_user",
          "columns": [
            {
              "expression": "user_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_player_games_game": {
          "name": "idx_player_games_game",
          "columns": [
            {
              "expression": "game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_player_games_pair": {
          "name": "idx_player_games_pair",
          "columns": [
            {
              "expression": "pair_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "player_games_user_email_users_email_fk": {
          "name": "player_games_user_email_users_email_fk",
          "tableFrom": "player_games",
          "tableTo": "users",
          "columnsFrom": [
            "user_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "player_games_game_id_games_id_fk": {
          "name": "player_games_game_id_games_id_fk",
          "tableFrom": "player_games",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "player_games_pair_id_pairs_id_fk": {
          "name": "player_games_pair_id_pairs_id_fk",
          "tableFrom": "player_games",
          "tableTo": "pairs",
          "columnsFrom": [
            "pair_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "player_games_phase2_approval_requested_by_email_users_email_fk": {
          "name": "player_games_phase2_approval_requested_by_email_users_email_fk",
          "tableFrom": "player_games",
          "tableTo": "users",
          "columnsFrom": [
            "phase2_approval_requested_by_email"
          ],
          "columnsTo": [
            "email"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_game": {
          "name": "unique_user_game",
          "nullsNotDistinct": false,
          "columns": [
            "user_email",
            "game_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "phase2_approval_status_check": {
          "name": "phase2_approval_status_check",
          "value": "\"player_games\".\"phase2_approval_status\" IS NULL OR \"player_games\".\"phase2_approval_status\" IN ('requested', 'approved', 'denied')"
        }
      },
      "isRLSEnabled": false
    },
    "public.tournament_brackets": {
      "name": "tournament_brackets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "player_game_id": {
          "name": "player_game_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "round": {
          "name": "round",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name_id": {
          "name": "name_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "parent_bracket_id": {
          "name": "parent_bracket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_brackets_player_game": {
          "name": "idx_brackets_player_game",
          "columns": [
            {
              "expression": "player_game_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brackets_phase_round": {
          "name": "idx_brackets_phase_round",
          "columns": [
            {
              "expression": "phase",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "round",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brackets_name": {
          "name": "idx_brackets_name",
          "columns": [
            {
              "expression": "name_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tournament_brackets_player_game_id_player_games_id_fk": {
          "name": "tournament_brackets_player_game_id_player_games_id_fk",
          "tableFrom": "tournament_brackets",
          "tableTo": "player_games",
          "columnsFrom": [
            "player_game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tournament_brackets_name_id_names_id_fk": {
          "name": "tournament_brackets_name_id_names_id_fk",
          "tableFrom": "tournament_brackets",
          "tableTo": "names",
          "columnsFrom": [
            "name_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tournament_brackets_parent_bracket_id_tournament_brackets_id_fk": {
          "name": "tournament_brackets_parent_bracket_id_tournament_brackets_id_fk",
          "tableFrom": "tournament_brackets",
          "tableTo": "tournament_brackets",
          "columnsFrom": [
            "parent_bracket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "status_check": {
          "name": "status_check",
          "value": "\"tournament_brackets\".\"status\" IN ('active', 'winner', 'loser', 'eliminated')"
        }
      },
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}